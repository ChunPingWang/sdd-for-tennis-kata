# ç¨‹å¼ç¢¼å¯©æŸ¥æª¢æŸ¥æ¸…å–® - SOLID åŸå‰‡

## ä½¿ç”¨èªªæ˜

æœ¬æª¢æŸ¥æ¸…å–®ç”¨æ–¼ç¨‹å¼ç¢¼å¯©æŸ¥æ™‚é©—è­‰ SOLID åŸå‰‡çš„éµå¾ªæƒ…æ³ã€‚å¯©æŸ¥è€…æ‡‰è©²é€é …æª¢æŸ¥ï¼Œç¢ºä¿ç¨‹å¼ç¢¼ç¬¦åˆé«˜å“è³ªæ¨™æº–ã€‚

## ğŸ” å¯©æŸ¥æµç¨‹

### 1. æº–å‚™éšæ®µ
- [ ] äº†è§£è®Šæ›´çš„æ¥­å‹™éœ€æ±‚å’ŒæŠ€è¡“èƒŒæ™¯
- [ ] æª¢æŸ¥ç›¸é—œçš„è¨­è¨ˆæ–‡ä»¶å’Œæ¶æ§‹åœ–
- [ ] ç¢ºèªæ¸¬è©¦è¦†è“‹ç‡å’Œæ¸¬è©¦å“è³ª

### 2. SOLID åŸå‰‡æª¢æŸ¥
æŒ‰ç…§ä»¥ä¸‹æª¢æŸ¥æ¸…å–®é€é …é©—è­‰æ¯å€‹åŸå‰‡çš„éµå¾ªæƒ…æ³ã€‚

### 3. ç¸½é«”è©•ä¼°
- [ ] ç¨‹å¼ç¢¼æ•´é«”æ¶æ§‹åˆç†
- [ ] ç¬¦åˆå°ˆæ¡ˆçš„ç·¨ç¢¼æ¨™æº–
- [ ] æ²’æœ‰æ˜é¡¯çš„æ•ˆèƒ½å•é¡Œ

---

## ğŸ“‹ SOLID åŸå‰‡æª¢æŸ¥æ¸…å–®

### ğŸ¯ å–®ä¸€è·è²¬åŸå‰‡ (SRP) æª¢æŸ¥

#### é¡åˆ¥å±¤ç´šæª¢æŸ¥
- [ ] **è·è²¬å–®ä¸€æ€§**: æ¯å€‹é¡åˆ¥åªè² è²¬ä¸€é …æ˜ç¢ºçš„è·è²¬
- [ ] **è®Šæ›´ç†ç”±å”¯ä¸€**: é¡åˆ¥åªæœ‰ä¸€å€‹æ”¹è®Šçš„ç†ç”±
- [ ] **å‘½åæ¸…æ™°**: é¡åˆ¥åç¨±æ¸…æ¥šè¡¨é”å…¶è·è²¬
- [ ] **æ–¹æ³•ä¸€è‡´æ€§**: æ‰€æœ‰æ–¹æ³•éƒ½åœç¹åŒä¸€å€‹è·è²¬

#### æ–¹æ³•å±¤ç´šæª¢æŸ¥
- [ ] **æ–¹æ³•å°ˆæ³¨**: æ¯å€‹æ–¹æ³•åªåšä¸€ä»¶äº‹
- [ ] **åƒæ•¸åˆç†**: æ–¹æ³•åƒæ•¸æ•¸é‡é©ä¸­ï¼ˆå»ºè­° â‰¤ 3 å€‹ï¼‰
- [ ] **å›å‚³å€¼æ˜ç¢º**: æ–¹æ³•å›å‚³å€¼é¡å‹å’Œæ„ç¾©æ¸…æ¥š

#### å¸¸è¦‹é•è¦æ¨¡å¼æª¢æŸ¥
- [ ] **é¿å… God Class**: é¡åˆ¥ä¸è¶…é 200 è¡Œç¨‹å¼ç¢¼
- [ ] **é¿å…æ··åˆè·è²¬**: æ²’æœ‰åœ¨åŒä¸€é¡åˆ¥ä¸­æ··åˆæ¥­å‹™é‚è¼¯ã€è³‡æ–™å­˜å–ã€UI é‚è¼¯
- [ ] **é¿å…å·¥å…·é¡åˆ¥æ¿«ç”¨**: å·¥å…·é¡åˆ¥æ–¹æ³•ç›¸é—œä¸”å°ˆæ³¨

```java
// âœ… å¥½çš„ç¯„ä¾‹
@Service
public class MatchStatisticsService {
    // åªè² è²¬çµ±è¨ˆç›¸é—œçš„é‚è¼¯
    public MatchStatistics getMatchStatistics(String matchId) { ... }
    public SystemStatistics getSystemStatistics() { ... }
}

// âŒ å£çš„ç¯„ä¾‹  
@Service
public class MatchService {
    public Match createMatch(...) { ... }        // æ¯”è³½ç®¡ç†
    public Statistics getStats(...) { ... }      // çµ±è¨ˆ - é•å SRP
    public void sendEmail(...) { ... }           // é€šçŸ¥ - é•å SRP
}
```

---

### ğŸ”“ é–‹æ”¾å°é–‰åŸå‰‡ (OCP) æª¢æŸ¥

#### æ“´å±•æ€§æª¢æŸ¥
- [ ] **æŠ½è±¡è¨­è¨ˆ**: ä½¿ç”¨ä»‹é¢å’ŒæŠ½è±¡é¡åˆ¥æ”¯æ´æ“´å±•
- [ ] **ç­–ç•¥æ¨¡å¼**: ä½¿ç”¨ç­–ç•¥æ¨¡å¼è™•ç†è®ŠåŒ–çš„æ¼”ç®—æ³•
- [ ] **å·¥å» æ¨¡å¼**: ä½¿ç”¨å·¥å» æ¨¡å¼æ”¯æ´æ–°é¡å‹çš„å‰µå»º
- [ ] **é…ç½®é©…å‹•**: è¡Œç‚ºå¯ä»¥é€šéé…ç½®æ”¹è®Šè€Œä¸ä¿®æ”¹ç¨‹å¼ç¢¼

#### ä¿®æ”¹å°é–‰æ€§æª¢æŸ¥
- [ ] **é¿å…ä¿®æ”¹ç¾æœ‰ç¨‹å¼ç¢¼**: æ–°åŠŸèƒ½é€šéæ·»åŠ æ–°é¡åˆ¥å¯¦ç¾
- [ ] **é¿å…å¤§å‹ switch**: æ²’æœ‰å¤§å‹çš„ switch/if-else èªå¥
- [ ] **å¤šå‹ä½¿ç”¨**: é©ç•¶ä½¿ç”¨å¤šå‹ä¾†é¿å…æ¢ä»¶é‚è¼¯

```java
// âœ… å¥½çš„ç¯„ä¾‹ - å·¥å» æ¨¡å¼
public interface MatchFactory {
    Match createMatch(String player1, String player2);
    boolean supports(String matchType);
}

// æ·»åŠ æ–°é¡å‹ä¸éœ€è¦ä¿®æ”¹ç¾æœ‰ç¨‹å¼ç¢¼
public class TournamentMatchFactory implements MatchFactory { ... }

// âŒ å£çš„ç¯„ä¾‹
public class MatchCreator {
    public Match createMatch(String type, String p1, String p2) {
        switch (type) {
            case "STANDARD": return new StandardMatch(p1, p2);
            case "TOURNAMENT": return new TournamentMatch(p1, p2);
            // æ¯æ¬¡æ·»åŠ æ–°é¡å‹éƒ½è¦ä¿®æ”¹é€™è£¡
        }
    }
}
```

---

### ğŸ”„ é‡Œæ°æ›¿æ›åŸå‰‡ (LSP) æª¢æŸ¥

#### æ›¿æ›æ€§æª¢æŸ¥
- [ ] **è¡Œç‚ºä¸€è‡´æ€§**: å­é¡åˆ¥ä¸æ”¹è®Šçˆ¶é¡åˆ¥çš„é æœŸè¡Œç‚º
- [ ] **ç•°å¸¸è™•ç†**: å­é¡åˆ¥ä¸æ‹‹å‡ºçˆ¶é¡åˆ¥æœªé æœŸçš„ç•°å¸¸
- [ ] **å‰ç½®æ¢ä»¶**: å­é¡åˆ¥ä¸åŠ å¼·å‰ç½®æ¢ä»¶
- [ ] **å¾Œç½®æ¢ä»¶**: å­é¡åˆ¥ä¸å‰Šå¼±å¾Œç½®æ¢ä»¶

#### å¥‘ç´„éµå¾ªæª¢æŸ¥
- [ ] **ä»‹é¢å¥‘ç´„**: æ‰€æœ‰å¯¦ä½œéƒ½éµå¾ªä»‹é¢å®šç¾©çš„å¥‘ç´„
- [ ] **æ–‡ä»¶ä¸€è‡´**: å¯¦ä½œè¡Œç‚ºèˆ‡æ–‡ä»¶æè¿°ä¸€è‡´
- [ ] **æ¸¬è©¦é€šé**: æ‰€æœ‰å¯¦ä½œéƒ½èƒ½é€šéç›¸åŒçš„æ¸¬è©¦

```java
// âœ… å¥½çš„ç¯„ä¾‹
public abstract class BaseRepository {
    public final Entity save(Entity entity) {
        validate(entity);
        return doSave(entity);
    }
    protected abstract Entity doSave(Entity entity);
}

public class DatabaseRepository extends BaseRepository {
    @Override
    protected Entity doSave(Entity entity) {
        return entityManager.persist(entity); // éµå¾ªå¥‘ç´„
    }
}

// âŒ å£çš„ç¯„ä¾‹
public class ReadOnlyRepository extends BaseRepository {
    @Override
    protected Entity doSave(Entity entity) {
        throw new UnsupportedOperationException(); // é•å LSP
    }
}
```

---

### ğŸ”— ä»‹é¢éš”é›¢åŸå‰‡ (ISP) æª¢æŸ¥

#### ä»‹é¢è¨­è¨ˆæª¢æŸ¥
- [ ] **ä»‹é¢å°ˆæ³¨**: æ¯å€‹ä»‹é¢åªåŒ…å«ç›¸é—œçš„æ–¹æ³•
- [ ] **å®¢æˆ¶ç«¯éœ€æ±‚**: å®¢æˆ¶ç«¯åªä¾è³´å®ƒå€‘ä½¿ç”¨çš„æ–¹æ³•
- [ ] **ä»‹é¢å¤§å°**: ä»‹é¢æ–¹æ³•æ•¸é‡é©ä¸­ï¼ˆå»ºè­° â‰¤ 7 å€‹æ–¹æ³•ï¼‰
- [ ] **è·è²¬å–®ä¸€**: ä»‹é¢è·è²¬æ˜ç¢ºä¸”å–®ä¸€

#### ä¾è³´æª¢æŸ¥
- [ ] **æœ€å°ä¾è³´**: é¡åˆ¥åªå¯¦ä½œéœ€è¦çš„ä»‹é¢
- [ ] **ä»‹é¢åˆ†é›¢**: å¤§ä»‹é¢å·²åˆ†è§£ç‚ºå¤šå€‹å°ä»‹é¢
- [ ] **å®¢æˆ¶ç«¯éš”é›¢**: ä¸åŒå®¢æˆ¶ç«¯ä½¿ç”¨ä¸åŒçš„ä»‹é¢

```java
// âœ… å¥½çš„ç¯„ä¾‹ - åˆ†é›¢çš„ä»‹é¢
public interface MatchCreationPort {
    Match createMatch(String player1, String player2);
}

public interface MatchScoringPort {
    Match scorePoint(String matchId, String playerId);
}

// å®¢æˆ¶ç«¯åªä¾è³´éœ€è¦çš„ä»‹é¢
public class MatchController {
    private final MatchCreationPort matchCreation;
    private final MatchScoringPort matchScoring;
}

// âŒ å£çš„ç¯„ä¾‹ - è‡ƒè…«çš„ä»‹é¢
public interface MatchManagementPort {
    Match createMatch(...);
    Match scorePoint(...);
    Match getMatch(...);
    List<Match> getAllMatches();
    void deleteMatch(...);
    Statistics getStatistics(...); // ä¸ç›¸é—œçš„æ–¹æ³•
}
```

---

### â¬†ï¸ ä¾è³´åè½‰åŸå‰‡ (DIP) æª¢æŸ¥

#### ä¾è³´æ–¹å‘æª¢æŸ¥
- [ ] **ä¾è³´æŠ½è±¡**: é«˜å±¤æ¨¡çµ„ä¾è³´ä»‹é¢è€Œéå…·é«”å¯¦ä½œ
- [ ] **ä¾è³´æ³¨å…¥**: ä½¿ç”¨ä¾è³´æ³¨å…¥è€Œéç›´æ¥å¯¦ä¾‹åŒ–
- [ ] **é…ç½®ç®¡ç†**: ä¾è³´é—œä¿‚åœ¨é…ç½®é¡åˆ¥ä¸­ç®¡ç†
- [ ] **æ¸¬è©¦å‹å¥½**: ä¾è³´å¯ä»¥è¼•é¬† Mock å’Œæ›¿æ›

#### æŠ½è±¡è¨­è¨ˆæª¢æŸ¥
- [ ] **ä»‹é¢å®šç¾©**: ç‚ºä¸»è¦æœå‹™å®šç¾©ä»‹é¢
- [ ] **å¯¦ä½œåˆ†é›¢**: ä»‹é¢å’Œå¯¦ä½œåœ¨ä¸åŒçš„å¥—ä»¶
- [ ] **å¾ªç’°ä¾è³´**: æ²’æœ‰å¾ªç’°ä¾è³´å•é¡Œ

```java
// âœ… å¥½çš„ç¯„ä¾‹
@Service
public class MatchDomainService implements MatchService {
    private final MatchRepositoryPort repository;    // ä¾è³´æŠ½è±¡
    private final ScoringService scoringService;     // ä¾è³´æŠ½è±¡
    
    public MatchDomainService(MatchRepositoryPort repository, 
                             ScoringService scoringService) {
        this.repository = repository;
        this.scoringService = scoringService;
    }
}

// âŒ å£çš„ç¯„ä¾‹
@Service  
public class MatchDomainService {
    private final InMemoryRepository repository;     // ä¾è³´å…·é«”å¯¦ä½œ
    
    public MatchDomainService() {
        this.repository = new InMemoryRepository();  // ç›´æ¥å¯¦ä¾‹åŒ–
    }
}
```

---

## ğŸ¯ æ•´é«”æ¶æ§‹æª¢æŸ¥

### å…­è§’å½¢æ¶æ§‹æª¢æŸ¥
- [ ] **é ˜åŸŸæ ¸å¿ƒ**: æ¥­å‹™é‚è¼¯ä¸ä¾è³´å¤–éƒ¨æ¡†æ¶
- [ ] **Port å®šç¾©**: Primary å’Œ Secondary Port å®šç¾©æ¸…æ¥š
- [ ] **Adapter å¯¦ä½œ**: Adapter æ­£ç¢ºå¯¦ä½œ Port ä»‹é¢
- [ ] **ä¾è³´æ–¹å‘**: ä¾è³´æ–¹å‘ç¬¦åˆå…­è§’å½¢æ¶æ§‹åŸå‰‡

### æ¸¬è©¦æª¢æŸ¥
- [ ] **å–®å…ƒæ¸¬è©¦**: æ¯å€‹é¡åˆ¥éƒ½æœ‰å°æ‡‰çš„å–®å…ƒæ¸¬è©¦
- [ ] **Mock ä½¿ç”¨**: é©ç•¶ä½¿ç”¨ Mock éš”é›¢ä¾è³´
- [ ] **æ¸¬è©¦è¦†è“‹**: æ¸¬è©¦è¦†è“‹ç‡é”åˆ°è¦æ±‚ï¼ˆå»ºè­° > 80%ï¼‰
- [ ] **BDD æ¸¬è©¦**: é‡è¦æ¥­å‹™æµç¨‹æœ‰ BDD æ¸¬è©¦

---

## ğŸ“Š è©•åˆ†æ¨™æº–

### è©•åˆ†ç­‰ç´š
- **å„ªç§€ (90-100%)**: å®Œå…¨ç¬¦åˆ SOLID åŸå‰‡ï¼Œç¨‹å¼ç¢¼å“è³ªæ¥µé«˜
- **è‰¯å¥½ (80-89%)**: åŸºæœ¬ç¬¦åˆ SOLID åŸå‰‡ï¼Œæœ‰å°‘é‡æ”¹é€²ç©ºé–“
- **åŠæ ¼ (70-79%)**: éƒ¨åˆ†ç¬¦åˆ SOLID åŸå‰‡ï¼Œéœ€è¦é‡æ§‹æ”¹é€²
- **ä¸åŠæ ¼ (<70%)**: åš´é‡é•å SOLID åŸå‰‡ï¼Œéœ€è¦é‡æ–°è¨­è¨ˆ

### å¿…é ˆä¿®æ­£çš„å•é¡Œ
- [ ] åš´é‡é•å SRPï¼ˆGod Classï¼‰
- [ ] ç¡¬ç·¨ç¢¼çš„ä¾è³´é—œä¿‚
- [ ] è‡ƒè…«çš„ä»‹é¢è¨­è¨ˆ
- [ ] ç„¡æ³•æ“´å±•çš„è¨­è¨ˆ

### å»ºè­°æ”¹é€²çš„å•é¡Œ
- [ ] æ–¹æ³•åƒæ•¸éå¤š
- [ ] é¡åˆ¥è·è²¬ä¸å¤ æ˜ç¢º
- [ ] ç¼ºå°‘é©ç•¶çš„æŠ½è±¡
- [ ] æ¸¬è©¦è¦†è“‹ä¸è¶³

---

## ğŸ“ å¯©æŸ¥å ±å‘Šæ¨¡æ¿

```markdown
## ç¨‹å¼ç¢¼å¯©æŸ¥å ±å‘Š

### åŸºæœ¬è³‡è¨Š
- **å¯©æŸ¥è€…**: [å§“å]
- **å¯©æŸ¥æ—¥æœŸ**: [æ—¥æœŸ]
- **è®Šæ›´ç¯„åœ**: [æè¿°]
- **ç›¸é—œ Issue**: [é€£çµ]

### SOLID åŸå‰‡è©•ä¼°
- **SRP**: âœ…/âš ï¸/âŒ [è©•èª]
- **OCP**: âœ…/âš ï¸/âŒ [è©•èª]  
- **LSP**: âœ…/âš ï¸/âŒ [è©•èª]
- **ISP**: âœ…/âš ï¸/âŒ [è©•èª]
- **DIP**: âœ…/âš ï¸/âŒ [è©•èª]

### ä¸»è¦ç™¼ç¾
#### å„ªé»
- [åˆ—å‡ºç¨‹å¼ç¢¼çš„å„ªé»]

#### éœ€è¦æ”¹é€²
- [åˆ—å‡ºéœ€è¦æ”¹é€²çš„åœ°æ–¹]

#### å¿…é ˆä¿®æ­£
- [åˆ—å‡ºå¿…é ˆä¿®æ­£çš„å•é¡Œ]

### ç¸½é«”è©•åˆ†
- **è©•åˆ†**: [å„ªç§€/è‰¯å¥½/åŠæ ¼/ä¸åŠæ ¼]
- **å»ºè­°**: [å¯©æŸ¥å»ºè­°]

### å¾ŒçºŒè¡Œå‹•
- [ ] [å…·é«”çš„æ”¹é€²è¡Œå‹•é …ç›®]
```

---

## ğŸ”§ å¸¸ç”¨é‡æ§‹æŠ€å·§

### SRP é‡æ§‹
- **Extract Class**: å°‡å¤šé‡è·è²¬åˆ†é›¢åˆ°ä¸åŒé¡åˆ¥
- **Extract Method**: å°‡è¤‡é›œæ–¹æ³•åˆ†è§£ç‚ºå¤šå€‹å°æ–¹æ³•
- **Move Method**: å°‡æ–¹æ³•ç§»åˆ°æ›´åˆé©çš„é¡åˆ¥

### OCP é‡æ§‹  
- **Replace Conditional with Polymorphism**: ç”¨å¤šå‹æ›¿æ›æ¢ä»¶é‚è¼¯
- **Extract Interface**: ç‚ºè®ŠåŒ–é»å‰µå»ºæŠ½è±¡ä»‹é¢
- **Strategy Pattern**: å°è£è®ŠåŒ–çš„æ¼”ç®—æ³•

### ISP é‡æ§‹
- **Extract Interface**: å¾å¤§ä»‹é¢ä¸­æå–å°ä»‹é¢
- **Segregate Interface**: å°‡ä»‹é¢æŒ‰å®¢æˆ¶ç«¯éœ€æ±‚åˆ†é›¢

### DIP é‡æ§‹
- **Extract Interface**: ç‚ºå…·é«”é¡åˆ¥å‰µå»ºæŠ½è±¡ä»‹é¢
- **Introduce Dependency Injection**: ä½¿ç”¨ä¾è³´æ³¨å…¥æ›¿æ›ç›´æ¥å¯¦ä¾‹åŒ–

---

## ğŸ“š åƒè€ƒè³‡æº

- [SOLID Principles Guide](./SOLID_PRINCIPLES_GUIDE.md)
- [SOLID Principles Compliance Report](./SOLID_PRINCIPLES_COMPLIANCE.md)
- [Architecture Documentation](./ARCHITECTURE.md)
- [Testing Guidelines](./TESTING_GUIDELINES.md)

è¨˜ä½ï¼šç¨‹å¼ç¢¼å¯©æŸ¥ä¸åƒ…æ˜¯æ‰¾å‡ºå•é¡Œï¼Œæ›´æ˜¯åœ˜éšŠå­¸ç¿’å’ŒçŸ¥è­˜åˆ†äº«çš„æ©Ÿæœƒã€‚ä¿æŒå»ºè¨­æ€§çš„æ…‹åº¦ï¼Œå°ˆæ³¨æ–¼ç¨‹å¼ç¢¼å“è³ªçš„æå‡ã€‚