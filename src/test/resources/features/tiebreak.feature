# language: zh-TW
功能: 搶七局計分邏輯
  作為一個網球比賽管理員
  我想要能夠正確處理搶七局的計分規則
  以便在局數 6-6 時進行搶七決勝

  背景:
    假設 我創建了一場比賽，球員為 "張三" 對戰 "李四"
    而且 比賽已經開始

  場景: 觸發搶七局條件
    假設 "張三" 贏得 6 局
    而且 "李四" 贏得 6 局
    當 開始新的一局
    那麼 這一局應該是 "搶七局"
    而且 搶七局的計分應該從 "0-0" 開始

  場景: 搶七局基本計分
    假設 目前是搶七局
    當 "張三" 在搶七局得到 1 分
    那麼 "張三" 的搶七分數應該是 1
    而且 "李四" 的搶七分數應該是 0

  場景: 搶七局連續得分
    假設 目前是搶七局
    當 "張三" 在搶七局得到 3 分
    而且 "李四" 在搶七局得到 2 分
    那麼 搶七局分數應該是 "3-2"

  場景: 搶七局達到 7 分且領先 2 分贏得盤數
    假設 目前是搶七局
    假設 "張三" 在搶七局得到 7 分
    而且 "李四" 在搶七局得到 5 分
    那麼 "張三" 應該贏得這一盤
    而且 "張三" 的盤數應該增加 1
    而且 新的一盤應該開始

  場景: 搶七局達到 7 分但未領先 2 分需要繼續
    假設 目前是搶七局
    假設 "張三" 在搶七局得到 7 分
    而且 "李四" 在搶七局得到 6 分
    那麼 搶七局應該繼續進行
    而且 盤數不應該改變

  場景: 搶七局延長賽
    假設 目前是搶七局
    假設 搶七局分數是 "7-7"
    當 "李四" 得到 1 分
    那麼 搶七局分數應該是 "7-8"
    而且 搶七局應該繼續進行
    當 "李四" 再得到 1 分
    那麼 "李四" 應該贏得這一盤
    而且 搶七局分數應該是 "7-9"

  場景: 搶七局中的發球輪換
    假設 目前是搶七局
    假設 搶七局分數是 "3-2"
    當 我查詢發球者
    那麼 發球者應該根據搶七局規則輪換
    # 搶七局中每兩分輪換一次發球權

  場景: 搶七局分數顯示格式
    假設 目前是搶七局
    假設 搶七局分數是 "5-3"
    當 我查詢目前分數
    那麼 分數應該顯示為 "6-6 (5-3)"
    # 顯示局數 6-6 加上搶七分數

  場景: 搶七局結束後重新開始新盤
    假設 目前是搶七局
    假設 "張三" 以 "7-4" 贏得搶七局
    那麼 "張三" 應該贏得這一盤
    而且 新的一盤應該開始
    而且 新盤的局數應該是 "0-0"
    而且 新盤的第一局不應該是搶七局

  場景: 搶七局最小獲勝分數
    假設 目前是搶七局
    假設 "李四" 在搶七局得到 7 分
    而且 "張三" 在搶七局得到 0 分
    那麼 "李四" 應該贏得這一盤
    而且 搶七局分數應該是 "0-7"

  場景: 搶七局高分延長賽
    假設 目前是搶七局
    假設 搶七局分數是 "12-12"
    當 "張三" 得到 2 分
    那麼 "張三" 應該贏得這一盤
    而且 搶七局分數應該是 "14-12"

  場景: 非搶七局條件下不應觸發搶七
    假設 "張三" 贏得 5 局
    而且 "李四" 贏得 6 局
    當 開始新的一局
    那麼 這一局不應該是 "搶七局"
    而且 應該是正常的計分規則